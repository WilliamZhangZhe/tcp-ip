### HTTP2

http2是针对http1.x的缺点的改进版本，并为改变http1.x所具有的基本的header、uri、method、statuscode这些http核心概念，它的改进的核心内容为采用二进制分帧层来对数据传输进行编码，来实现连接多路复用，减少不必要的TCP连接。

* ##### HTTP2 相比 HTTP1.x的改进内容

  1. 针对单资源服务器可多路复用一个TCP连接获取所有所需资源，不必像1.x那样使用多个TCP连接来实现多个资源的并发请求。
  2. 采用数据流、消息、二进制帧的方式来控制请求及相应，在一个双向数据流中同时传输多个消息的数据帧，提高传输效率
  3. 可设置数据流优先级
  4. 采用HPACK的方法压缩头信息，在初次请求交换完头部信息后，之后的请求可避免重复的头信息的传输

#### 

#### 

#### 二进制分帧层

HTTP/2 所有性能增强的核心在于新的二进制分帧层，它定义了如何封装 HTTP 消息并在客户端与服务器之间传输。![](/assets/1557404120054.jpg)这里所谓的“层”，指的是位于套接字接口与应用可见的高级 HTTP API 之间一个经过优化的新编码机制：HTTP 的语义（包括各种动词、方法、标头）都不受影响，不同的是传输期间对它们的编码方式变了。 HTTP/1.x 协议以换行符作为纯文本的分隔符，而 HTTP/2 将所有传输的信息分割为更小的消息和帧，并采用二进制格式对它们编码。

这样一来，客户端和服务器为了相互理解，都必须使用新的二进制编码机制：HTTP/1.x 客户端无法理解只支持 HTTP/2 的服务器，反之亦然。 不过不要紧，现有的应用不必担心这些变化，因为客户端和服务器会替我们完成必要的分帧工作。

